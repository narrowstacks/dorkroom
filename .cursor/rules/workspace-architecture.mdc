---
alwaysApply: true
description: Workspace architecture and project structure guidelines
---

# Dorkroom Workspace Architecture

Turborepo monorepo with Bun package management for an analog photography calculator app.

## Project Structure

### Applications

- **`apps/dorkroom/`** - Main React application
  - Vite 7, React 19, TanStack Router v1 (file-based routing)
  - Entry point: `src/main.tsx`
  - Routes: `src/routes/`

### Packages

- **`@dorkroom/logic`** - Business logic, hooks, schemas, types
- **`@dorkroom/ui`** - Reusable React components with Tailwind
- **`@dorkroom/api`** - API client and type transformations

## Tech Stack

| Category | Technology |
|----------|------------|
| Framework | React 19, Vite 7, TypeScript 5.9 |
| Routing | TanStack Router v1 (file-based) |
| State | TanStack Query v5, TanStack Store |
| Forms | TanStack Form v1 + Zod |
| Tables | TanStack Table v8 + TanStack Virtual v3 |
| Styling | Tailwind CSS 4, Lucide icons |
| Testing | Vitest 3, React Testing Library |
| Linting | Biome |

## Import Paths

Always use package aliases:

```typescript
import { useBorderCalculator } from '@dorkroom/logic';
import { CalculatorCard, cn } from '@dorkroom/ui';
import type { Recipe } from '@dorkroom/api';
```

Never import internal package paths.

## Essential Commands

```bash
bun run dev          # Start dev server
bun run build        # Build all packages
bun run test         # Lint, test, build, typecheck
bun run format       # Format with Biome
```

## Package Documentation

Read the `CLAUDE.md` in each package before modifying:

- `packages/logic/CLAUDE.md` - Query/Form/Table patterns, schemas
- `packages/ui/CLAUDE.md` - Component patterns, accessibility
- `packages/api/CLAUDE.md` - API types, transformations
