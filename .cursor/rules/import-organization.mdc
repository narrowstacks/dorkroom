---
globs: *.ts,*.tsx
description: Import organization and barrel export patterns
---

# Import Organization

## Import Order

1. React and third-party libraries
2. Workspace packages (`@dorkroom/*`)
3. Relative imports
4. CSS imports

```typescript
// 1. External
import { type FC, useState } from 'react';
import { createFileRoute } from '@tanstack/react-router';
import { useQuery } from '@tanstack/react-query';

// 2. Workspace packages
import type { BorderCalculationOptions } from '@dorkroom/logic';
import { useBorderCalculator } from '@dorkroom/logic';
import { CalculatorCard, cn } from '@dorkroom/ui';
import type { Recipe } from '@dorkroom/api';

// 3. Relative
import type { ComponentProps } from './types';
import { BorderPreview } from './components/border-preview';

// 4. CSS
import './component.css';
```

## Type-Only Imports

Separate type imports from value imports:

```typescript
import type { FC, ReactNode } from 'react';
import type { BorderOptions } from '@dorkroom/logic';

import { useState } from 'react';
import { calculateBorderSize } from '@dorkroom/logic';
```

## Package Imports

Always use package aliases, never internal paths:

```typescript
// ✅ Correct
import { calculateBorderSize } from '@dorkroom/logic';
import { CalculatorCard } from '@dorkroom/ui';

// ❌ Never
import { calculateBorderSize } from '../../../packages/logic/src/utils';
```

## Barrel Exports

Packages export through `src/index.ts`:

```typescript
// packages/logic/src/index.ts

// Types
export type { BorderCalculationOptions } from './types/border-calculator';

// Schemas
export { borderInputSchema } from './schemas';

// Utils
export { calculateBorderSize } from './utils/border-calculations';

// Hooks
export { useBorderCalculator } from './hooks/use-border-calculator';
```

## File Naming

| Type | Convention | Example |
|------|------------|---------|
| Components | kebab-case.tsx | `border-calculator.tsx` |
| Hooks | use-*.ts | `use-border-calculator.ts` |
| Utilities | kebab-case.ts | `border-calculations.ts` |
| Types | kebab-case.ts | `border-types.ts` |
| Schemas | kebab-case.ts | `border-schema.ts` |

## Avoiding Circular Dependencies

Clear dependency direction:

```
types → utils → hooks → components
```

Types have no imports. Utils import types. Hooks import types and utils. Components import all.

## TanStack Imports

```typescript
// Router
import { createFileRoute, Link, useNavigate } from '@tanstack/react-router';

// Query
import { useQuery, useMutation, useQueryClient, queryOptions } from '@tanstack/react-query';

// Form
import { useForm, type FormApi } from '@tanstack/react-form';
import { zodValidator } from '@tanstack/zod-form-adapter';

// Table
import { useReactTable, getCoreRowModel, type ColumnDef } from '@tanstack/react-table';

// Virtual
import { useVirtualizer } from '@tanstack/react-virtual';
```

Use Context7 for up-to-date patterns for each TanStack library.
